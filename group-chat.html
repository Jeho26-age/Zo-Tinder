<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Zo-Tinder | Group Chat</title>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Nunito:wght@400;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --accent: #ff3e1d;
            --accent2: #ff7a00;
            --bg: #080808;
            --card: #111111;
            --card2: #161616;
            --border: rgba(255,255,255,0.06);
            --glow: rgba(255,62,29,0.25);
            --verified: #00e5ff;
            --online: #1aff6e;
            --mod-color: #a78bfa;
            --owner-color: #ffd700;
        }

        * { margin:0; padding:0; box-sizing:border-box; -webkit-tap-highlight-color:transparent; }

        body {
            font-family:'Nunito',sans-serif;
            background:var(--bg);
            color:white;
            height:100dvh;
            display:flex;
            flex-direction:column;
            overflow:hidden;
        }

        body::before {
            content:'';
            position:fixed;
            inset:0;
            background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.04'/%3E%3C/svg%3E");
            pointer-events:none;
            z-index:0;
            opacity:0.5;
        }

        /* ‚ïê‚ïê HEADER ‚ïê‚ïê */
        .chat-header {
            position:relative;
            z-index:100;
            padding:48px 16px 12px;
            background:linear-gradient(180deg,#0d0d0d 70%,transparent);
            display:flex;
            align-items:center;
            gap:12px;
            flex-shrink:0;
            border-bottom:1px solid var(--border);
        }

        .back-btn {
            width:36px; height:36px;
            border-radius:11px;
            background:rgba(255,255,255,0.05);
            border:1px solid var(--border);
            display:flex; align-items:center; justify-content:center;
            font-size:1rem;
            cursor:pointer;
            flex-shrink:0;
            transition:0.2s;
        }
        .back-btn:active { transform:scale(0.88); }

        .group-av {
            width:42px; height:42px;
            border-radius:14px;
            display:flex; align-items:center; justify-content:center;
            font-size:1.4rem;
            flex-shrink:0;
            position:relative;
            cursor:pointer;
        }
        .group-av.official {
            box-shadow: 0 0 0 2px var(--accent), 0 0 12px var(--glow);
        }

        .header-meta { flex:1; min-width:0; }

        .header-name {
            font-family:'Bebas Neue',cursive;
            font-size:1.15rem;
            letter-spacing:1.5px;
            display:flex;
            align-items:center;
            gap:6px;
            white-space:nowrap;
            overflow:hidden;
            text-overflow:ellipsis;
        }
        .header-verified { color:var(--verified); font-size:0.9rem; }

        .official-badge {
            font-size:9px;
            font-weight:900;
            letter-spacing:1.5px;
            text-transform:uppercase;
            background:linear-gradient(135deg,var(--accent),var(--accent2));
            color:white;
            padding:3px 8px;
            border-radius:8px;
        }

        .header-sub { font-size:11px; color:#555; font-weight:700; }
        .header-sub .online-count { color:var(--online); }
        .header-actions { display:flex; gap:8px; }

        .h-btn {
            width:36px; height:36px;
            border-radius:11px;
            background:rgba(255,255,255,0.04);
            border:1px solid var(--border);
            display:flex; align-items:center; justify-content:center;
            font-size:1rem;
            cursor:pointer;
            transition:0.2s;
            flex-shrink:0;
        }
        .h-btn:active { transform:scale(0.88); background:rgba(255,255,255,0.08); }

        /* ‚ïê‚ïê TABS ‚ïê‚ïê */
        .tabs {
            display:flex;
            background:var(--bg);
            border-bottom:1px solid var(--border);
            flex-shrink:0;
            position:relative;
            z-index:50;
        }
        .tab {
            flex:1; padding:13px 0;
            text-align:center; font-size:12px; font-weight:800; letter-spacing:0.5px;
            color:#444; cursor:pointer; transition:0.2s; position:relative;
        }
        .tab.active { color:white; }
        .tab.active::after {
            content:''; position:absolute; bottom:0; left:20%; right:20%;
            height:2px; background:linear-gradient(90deg,var(--accent),var(--accent2));
            border-radius:2px 2px 0 0; box-shadow:0 0 8px var(--glow);
        }
        .tab:active { opacity:0.7; }

        /* ‚ïê‚ïê TAB CONTENT ‚ïê‚ïê */
        .tab-content { display:none; flex:1; flex-direction:column; overflow:hidden; }
        .tab-content.active { display:flex; }

        /* ‚ïê‚ïê PINNED BANNER ‚ïê‚ïê */
        .pinned-banner {
            background:rgba(255,62,29,0.06); border-bottom:1px solid rgba(255,62,29,0.12);
            padding:8px 16px; display:flex; align-items:center; gap:10px;
            cursor:pointer; flex-shrink:0; transition:0.2s;
        }
        .pinned-banner:active { background:rgba(255,62,29,0.1); }
        .pin-text { font-size:12px; color:#888; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; flex:1; }
        .pin-text strong { color:var(--accent); font-weight:800; }

        /* ‚ïê‚ïê READ MODE BANNER ‚ïê‚ïê */
        .read-mode-banner {
            background:rgba(255,122,0,0.08); border-bottom:1px solid rgba(255,122,0,0.15);
            padding:8px 16px; text-align:center; font-size:12px; font-weight:700;
            color:var(--accent2); flex-shrink:0; display:none;
        }
        .read-mode-banner.show { display:block; }

        /* ‚ïê‚ïê MESSAGES ‚ïê‚ïê */
        .messages-area {
            flex:1; overflow-y:auto; padding:12px 14px 8px;
            display:flex; flex-direction:column; gap:2px; scrollbar-width:none;
        }
        .messages-area::-webkit-scrollbar { display:none; }

        .date-divider { display:flex; align-items:center; gap:10px; margin:12px 0 8px; }
        .date-divider::before,.date-divider::after { content:''; flex:1; height:1px; background:var(--border); }
        .date-divider span { font-size:10px; font-weight:800; letter-spacing:1.5px; color:#333; text-transform:uppercase; }

        /* ‚ïê‚ïê SWIPE TO REPLY ‚ïê‚ïê */
        .msg-row {
            display:flex; gap:9px; align-items:flex-end;
            margin-bottom:4px; animation:msgIn 0.25s ease both;
            position:relative; user-select:none;
        }
        @keyframes msgIn { from{opacity:0;transform:translateY(10px)} to{opacity:1;transform:translateY(0)} }
        .msg-row.own { flex-direction:row-reverse; }

        .msg-inner {
            display:flex; gap:9px; align-items:flex-end;
            flex:1; transition:transform 0.2s ease;
            will-change:transform;
        }
        .msg-row.own .msg-inner { flex-direction:row-reverse; }

        .swipe-reply-icon {
            position:absolute;
            top:50%; transform:translateY(-50%);
            width:28px; height:28px; border-radius:50%;
            background:rgba(255,255,255,0.1); border:1px solid rgba(255,255,255,0.15);
            display:flex; align-items:center; justify-content:center;
            font-size:0.8rem; opacity:0; transition:opacity 0.15s;
            pointer-events:none; z-index:10;
        }
        .msg-row:not(.own) .swipe-reply-icon { right:4px; }
        .msg-row.own .swipe-reply-icon { left:4px; }
        .swipe-reply-icon.visible { opacity:1; }

        .msg-av {
            width:30px; height:30px; border-radius:10px; flex-shrink:0;
            display:flex; align-items:center; justify-content:center;
            font-size:0.8rem; font-weight:900; cursor:pointer; transition:0.2s;
            overflow:hidden; margin-bottom:2px;
        }
        .msg-av:active { transform:scale(0.9); }

        .msg-col { display:flex; flex-direction:column; max-width:72%; gap:2px; }
        .msg-row.own .msg-col { align-items:flex-end; }

        .msg-sender {
            font-size:11px; font-weight:800; padding:0 4px; margin-bottom:1px;
            display:flex; align-items:center; gap:5px;
        }

        /* Role badges in chat */
        .sender-role-badge {
            font-size:9px; font-weight:900; padding:2px 6px;
            border-radius:6px; letter-spacing:0.5px;
        }
        .sender-role-badge.owner { background:rgba(255,215,0,0.15); color:var(--owner-color); }
        .sender-role-badge.mod { background:rgba(167,139,250,0.15); color:var(--mod-color); }
        .sender-role-badge.admin { background:rgba(255,62,29,0.15); color:var(--accent); }

        .bubble {
            padding:9px 13px; border-radius:18px;
            font-size:14px; line-height:1.45; position:relative; word-break:break-word;
        }
        .bubble.other {
            background:var(--card2); border:1px solid var(--border);
            border-bottom-left-radius:5px; color:#ddd;
        }
        .bubble.own {
            background:linear-gradient(135deg,var(--accent),var(--accent2));
            border-bottom-right-radius:5px; color:white;
            box-shadow:0 2px 12px rgba(255,62,29,0.25);
        }
        .bubble.img-bubble { padding:5px; background:var(--card2); border:1px solid var(--border); }
        .bubble.img-bubble img { width:200px; max-width:100%; border-radius:14px; display:block; }

        .voice-bubble { display:flex; align-items:center; gap:10px; padding:10px 14px; min-width:160px; }
        .voice-play {
            width:30px; height:30px; background:rgba(255,255,255,0.15); border-radius:50%;
            display:flex; align-items:center; justify-content:center; font-size:0.7rem;
            cursor:pointer; flex-shrink:0; transition:0.2s;
        }
        .voice-play:active { transform:scale(0.9); }
        .waveform { flex:1; height:24px; display:flex; align-items:center; gap:2px; }
        .waveform-bar { width:3px; border-radius:2px; background:rgba(255,255,255,0.3); }
        .voice-dur { font-size:11px; opacity:0.7; flex-shrink:0; }

        .reply-preview {
            background:rgba(255,255,255,0.08); border-left:2px solid var(--accent);
            border-radius:8px; padding:5px 8px; margin-bottom:6px;
            font-size:12px; color:#888;
        }
        .reply-preview strong { color:var(--accent); font-size:11px; display:block; margin-bottom:1px; }

        .msg-reactions { display:flex; gap:4px; flex-wrap:wrap; margin-top:3px; }
        .react-pill {
            background:rgba(255,255,255,0.07); border:1px solid rgba(255,255,255,0.1);
            border-radius:20px; padding:2px 8px; font-size:12px; cursor:pointer; transition:0.15s;
        }
        .react-pill:active { transform:scale(0.9); }
        .react-pill.own-react { background:rgba(255,62,29,0.15); border-color:rgba(255,62,29,0.3); }

        .msg-time { font-size:10px; color:#333; font-weight:700; padding:0 4px; }
        .msg-time.own { color:rgba(255,255,255,0.4); }

        /* ‚ïê‚ïê GROUP-LEVEL BADGES ‚ïê‚ïê */
        .sender-role-badge.group-admin { background:rgba(255,165,0,0.15); color:#ffa500; }
        .sender-role-badge.group-mod   { background:rgba(100,200,100,0.15); color:#64c864; }

        /* ‚ïê‚ïê MEDIA CAPTION ‚ïê‚ïê */
        .media-caption { font-size:13px; color:rgba(255,255,255,0.85); padding:4px 4px 2px; word-break:break-word; }

        /* ‚ïê‚ïê VIEW ONCE ‚ïê‚ïê */
        .view-once-bubble { cursor:pointer; }
        .view-once-cover {
            width:220px; height:140px; border-radius:12px;
            background:linear-gradient(135deg,#1a1030,#0d0820);
            border:1px dashed rgba(167,139,250,0.4);
            display:flex; flex-direction:column; align-items:center; justify-content:center; gap:8px;
        }
        .view-once-cover span:first-child { font-size:2rem; }
        .view-once-label { font-size:11px; font-weight:800; color:#a78bfa; letter-spacing:0.5px; }

        /* ‚ïê‚ïê MEDIA PREVIEW OVERLAY ‚ïê‚ïê */
        .media-preview-box {
            width:calc(100% - 40px); max-width:400px;
            background:#141414; border-radius:24px;
            border:1px solid rgba(255,255,255,0.08);
            padding:20px; display:flex; flex-direction:column; gap:12px;
        }
        .media-preview-box img, .media-preview-box video {
            width:100%; max-height:260px; object-fit:contain;
            border-radius:16px; background:#000; display:block;
        }
        .caption-input {
            background:rgba(255,255,255,0.05); border:1px solid rgba(255,255,255,0.1);
            border-radius:14px; padding:10px 14px; color:white;
            font-family:'Nunito',sans-serif; font-size:14px; outline:none;
            width:100%; resize:none;
        }
        .caption-input::placeholder { color:#444; }
        .once-row {
            display:flex; align-items:center; gap:10px;
            padding:8px 12px; background:rgba(167,139,250,0.08);
            border-radius:12px; border:1px solid rgba(167,139,250,0.15); cursor:pointer;
        }
        .once-row input[type=checkbox] { width:18px; height:18px; accent-color:#a78bfa; cursor:pointer; }
        .once-row label { font-size:13px; font-weight:700; color:#a78bfa; cursor:pointer; flex:1; }

        /* ‚ïê‚ïê TYPING ‚ïê‚ïê */
        .typing-area { padding:4px 14px 0; min-height:22px; flex-shrink:0; }
        .typing-indicator { display:none; align-items:center; gap:6px; font-size:12px; color:#555; font-weight:700; }
        .typing-indicator.show { display:flex; }
        .tdot { width:6px; height:6px; border-radius:50%; background:#555; animation:typingBounce 1.2s infinite ease-in-out; }
        .tdot:nth-child(1){animation-delay:0s} .tdot:nth-child(2){animation-delay:0.2s} .tdot:nth-child(3){animation-delay:0.4s}
        @keyframes typingBounce { 0%,60%,100%{transform:translateY(0)} 30%{transform:translateY(-5px)} }

        /* ‚ïê‚ïê INPUT ‚ïê‚ïê */
        .input-area {
            flex-shrink:0; padding:8px 12px 28px;
            background:rgba(8,8,8,0.96); backdrop-filter:blur(20px);
            border-top:1px solid var(--border); position:relative; z-index:50;
        }
        .reply-bar {
            display:none; align-items:center; gap:10px;
            padding:8px 10px; background:rgba(255,62,29,0.07);
            border-radius:12px; margin-bottom:8px; border-left:2px solid var(--accent);
        }
        .reply-bar.show { display:flex; }
        .reply-bar-text { flex:1; font-size:12px; color:#888; }
        .reply-bar-text strong { color:var(--accent); display:block; font-size:11px; }
        .reply-bar-close { font-size:1rem; cursor:pointer; opacity:0.5; padding:2px; }
        .input-row { display:flex; align-items:flex-end; gap:8px; }
        .input-side-btn {
            width:38px; height:38px; border-radius:12px;
            background:rgba(255,255,255,0.05); border:1px solid var(--border);
            display:flex; align-items:center; justify-content:center;
            font-size:1.1rem; cursor:pointer; flex-shrink:0; transition:0.2s;
        }
        .input-side-btn:active { transform:scale(0.88); }
        .input-wrap {
            flex:1; background:rgba(255,255,255,0.05); border:1px solid var(--border);
            border-radius:18px; padding:9px 14px;
            display:flex; align-items:flex-end; gap:8px; transition:border-color 0.2s; min-height:40px;
        }
        .input-wrap:focus-within { border-color:rgba(255,62,29,0.35); box-shadow:0 0 0 3px rgba(255,62,29,0.06); }
        .msg-input {
            flex:1; background:none; border:none; color:white;
            font-family:'Nunito',sans-serif; font-size:14px; outline:none;
            resize:none; max-height:100px; scrollbar-width:none; line-height:1.4;
        }
        .msg-input::placeholder { color:#3a3a3a; }
        .emoji-btn { font-size:1.1rem; cursor:pointer; flex-shrink:0; transition:0.2s; padding:0 2px; opacity:0.6; }
        .emoji-btn:active { transform:scale(0.85); }
        .send-btn {
            width:40px; height:40px; border-radius:13px;
            background:linear-gradient(135deg,var(--accent),var(--accent2));
            display:flex; align-items:center; justify-content:center;
            cursor:pointer; flex-shrink:0; transition:0.2s;
            box-shadow:0 4px 16px rgba(255,62,29,0.35);
        }
        .send-btn:active { transform:scale(0.88); }
        .voice-btn {
            width:40px; height:40px; border-radius:13px;
            background:rgba(255,255,255,0.06); border:1px solid var(--border);
            display:flex; align-items:center; justify-content:center;
            font-size:1.1rem; cursor:pointer; flex-shrink:0; transition:0.2s;
        }
        .voice-btn.recording { background:rgba(255,62,29,0.2); border-color:var(--accent); animation:pulsate 1s infinite; }
        @keyframes pulsate { 0%,100%{box-shadow:0 0 0 0 rgba(255,62,29,0.4)} 50%{box-shadow:0 0 0 8px rgba(255,62,29,0)} }

        /* ‚ïê‚ïê STICKER TRAY ‚ïê‚ïê */
        .sticker-tray {
            position:fixed; bottom:0; left:0; right:0; height:320px;
            background:#0f0f0f; border-top:1px solid var(--border);
            border-radius:24px 24px 0 0; z-index:500;
            transform:translateY(100%); transition:transform 0.35s cubic-bezier(0.34,1.1,0.64,1);
            display:flex; flex-direction:column;
        }
        .sticker-tray.show { transform:translateY(0); }
        .tray-tabs { display:flex; padding:12px 16px 0; gap:4px; flex-shrink:0; }
        .tray-tab { padding:7px 14px; border-radius:20px; font-size:12px; font-weight:800; color:#555; cursor:pointer; transition:0.2s; }
        .tray-tab.active { background:rgba(255,62,29,0.15); color:var(--accent); }
        .tray-tab:active { transform:scale(0.93); }
        .tray-search { margin:8px 16px; background:rgba(255,255,255,0.05); border:1px solid var(--border); border-radius:12px; padding:8px 12px; display:none; align-items:center; gap:8px; flex-shrink:0; }
        .tray-search.show { display:flex; }
        .tray-search input { background:none; border:none; color:white; font-family:'Nunito',sans-serif; font-size:13px; outline:none; flex:1; }
        .tray-search input::placeholder { color:#444; }
        .tray-body { flex:1; overflow-y:auto; padding:8px 16px 20px; scrollbar-width:none; }
        .tray-body::-webkit-scrollbar { display:none; }
        .emoji-grid { display:grid; grid-template-columns:repeat(8,1fr); gap:4px; }
        .emoji-item { aspect-ratio:1; display:flex; align-items:center; justify-content:center; font-size:1.5rem; border-radius:10px; cursor:pointer; transition:0.15s; }
        .emoji-item:active { transform:scale(0.8); background:rgba(255,255,255,0.08); }
        .emoji-cats { display:flex; gap:4px; margin-bottom:8px; overflow-x:auto; scrollbar-width:none; }
        .emoji-cats::-webkit-scrollbar { display:none; }
        .emoji-cat { flex-shrink:0; padding:5px 10px; border-radius:10px; font-size:1rem; cursor:pointer; transition:0.15s; background:rgba(255,255,255,0.04); }
        .emoji-cat.active { background:rgba(255,62,29,0.15); }
        .sticker-grid { display:grid; grid-template-columns:repeat(4,1fr); gap:8px; }
        .sticker-item { aspect-ratio:1; border-radius:14px; background:rgba(255,255,255,0.04); border:1px solid var(--border); display:flex; align-items:center; justify-content:center; font-size:2.2rem; cursor:pointer; transition:0.2s; }
        .sticker-item:active { transform:scale(0.88); }
        .add-sticker-btn { aspect-ratio:1; border-radius:14px; background:rgba(255,255,255,0.03); border:1px dashed rgba(255,255,255,0.1); display:flex; flex-direction:column; align-items:center; justify-content:center; gap:4px; cursor:pointer; transition:0.2s; font-size:1.5rem; }
        .add-sticker-btn span { font-size:10px; color:#444; font-weight:700; }
        .gif-grid { display:grid; grid-template-columns:repeat(2,1fr); gap:6px; }
        .gif-item { border-radius:12px; overflow:hidden; cursor:pointer; transition:0.2s; background:var(--card2); aspect-ratio:16/9; display:flex; align-items:center; justify-content:center; font-size:2.5rem; }
        .gif-item:active { transform:scale(0.95); opacity:0.8; }
        .tray-empty { text-align:center; padding:20px; color:#333; font-size:13px; }
        .tray-backdrop { position:fixed; inset:0; z-index:499; display:none; }
        .tray-backdrop.show { display:block; }

        /* ‚ïê‚ïê POSTS TAB ‚ïê‚ïê */
        .posts-area { flex:1; overflow-y:auto; padding:12px 16px 80px; scrollbar-width:none; display:flex; flex-direction:column; gap:12px; }
        .posts-area::-webkit-scrollbar { display:none; }
        .create-post-btn { background:rgba(255,255,255,0.04); border:1px solid var(--border); border-radius:18px; padding:14px 16px; display:flex; align-items:center; gap:12px; cursor:pointer; transition:0.2s; }
        .create-post-btn:active { background:rgba(255,255,255,0.07); }
        .create-post-av { width:34px; height:34px; border-radius:11px; background:linear-gradient(135deg,var(--accent),var(--accent2)); display:flex; align-items:center; justify-content:center; font-size:1rem; flex-shrink:0; }
        .create-post-ph { color:#444; font-size:14px; }
        .post-type-row { display:flex; gap:8px; overflow-x:auto; scrollbar-width:none; }
        .post-type-row::-webkit-scrollbar { display:none; }
        .post-type-btn { flex-shrink:0; padding:8px 14px; border-radius:20px; background:rgba(255,255,255,0.04); border:1px solid var(--border); font-size:12px; font-weight:700; color:#666; cursor:pointer; transition:0.2s; }
        .post-type-btn:active { transform:scale(0.93); }
        .post-card { background:var(--card); border:1px solid var(--border); border-radius:20px; overflow:hidden; animation:fadeUp 0.3s ease both; }
        @keyframes fadeUp { from{opacity:0;transform:translateY(12px)} to{opacity:1;transform:translateY(0)} }
        .post-header { display:flex; align-items:center; gap:10px; padding:14px 14px 10px; }
        .post-av { width:36px; height:36px; border-radius:11px; display:flex; align-items:center; justify-content:center; font-size:1rem; font-weight:900; flex-shrink:0; overflow:hidden; cursor:pointer; }
        .post-meta { flex:1; }
        .post-author { font-size:13px; font-weight:800; display:flex; align-items:center; gap:6px; flex-wrap:wrap; }
        .post-time { font-size:11px; color:#444; font-weight:700; }
        .post-badge { font-size:9px; font-weight:900; padding:3px 8px; border-radius:8px; letter-spacing:1px; }
        .badge-announce { background:rgba(255,62,29,0.15); color:var(--accent); }
        .badge-poll { background:rgba(99,102,241,0.15); color:#818cf8; }
        .badge-event { background:rgba(16,185,129,0.15); color:#34d399; }
        .post-body { padding:0 14px 14px; }
        .post-text { font-size:14px; line-height:1.55; color:#ccc; margin-bottom:10px; }
        .poll-option { background:rgba(255,255,255,0.04); border:1px solid var(--border); border-radius:12px; padding:10px 14px; margin-bottom:6px; cursor:pointer; transition:0.2s; position:relative; overflow:hidden; }
        .poll-option:active { transform:scale(0.98); }
        .poll-option.voted { border-color:rgba(255,62,29,0.3); }
        .poll-bar { position:absolute; top:0; left:0; bottom:0; background:rgba(255,62,29,0.08); transition:width 0.4s ease; }
        .poll-label { position:relative; font-size:13px; font-weight:700; display:flex; justify-content:space-between; }
        .poll-pct { color:var(--accent); font-size:12px; }
        .event-card { background:rgba(16,185,129,0.06); border:1px solid rgba(16,185,129,0.15); border-radius:14px; padding:12px 14px; display:flex; gap:12px; align-items:center; }
        .event-date-box { width:44px; flex-shrink:0; background:rgba(16,185,129,0.15); border-radius:10px; display:flex; flex-direction:column; align-items:center; justify-content:center; padding:6px; }
        .event-month { font-size:9px; font-weight:900; color:#34d399; text-transform:uppercase; letter-spacing:1px; }
        .event-day { font-family:'Bebas Neue',cursive; font-size:1.6rem; color:#34d399; line-height:1; }
        .event-info { flex:1; }
        .event-title { font-size:13px; font-weight:800; margin-bottom:2px; }
        .event-sub { font-size:11px; color:#555; }
        .event-join { padding:7px 14px; background:rgba(16,185,129,0.15); border-radius:10px; font-size:12px; font-weight:800; color:#34d399; cursor:pointer; flex-shrink:0; transition:0.2s; }
        .event-join:active { transform:scale(0.93); }
        .post-actions { display:flex; gap:4px; padding:10px 14px; border-top:1px solid var(--border); }
        .post-action { flex:1; display:flex; align-items:center; justify-content:center; gap:6px; padding:8px; border-radius:10px; font-size:12px; font-weight:700; color:#555; cursor:pointer; transition:0.2s; }
        .post-action:active { background:rgba(255,255,255,0.05); transform:scale(0.96); }
        .post-action.liked { color:var(--accent); }

        /* ‚ïê‚ïê MEMBERS TAB ‚ïê‚ïê */
        .members-area { flex:1; overflow-y:auto; padding:12px 16px 80px; scrollbar-width:none; }
        .members-area::-webkit-scrollbar { display:none; }
        .members-search { background:rgba(255,255,255,0.04); border:1px solid var(--border); border-radius:14px; padding:11px 14px; display:flex; align-items:center; gap:10px; margin-bottom:14px; }
        .members-search input { background:none; border:none; color:white; font-family:'Nunito',sans-serif; font-size:13px; outline:none; flex:1; }
        .members-search input::placeholder { color:#444; }
        .members-section-label { font-size:10px; font-weight:800; letter-spacing:2px; color:#333; text-transform:uppercase; margin:10px 4px 8px; }
        .member-row { display:flex; align-items:center; gap:12px; padding:10px 6px; border-radius:14px; cursor:pointer; transition:0.2s; }
        .member-row:active { background:rgba(255,255,255,0.04); }
        .member-av { width:42px; height:42px; border-radius:14px; display:flex; align-items:center; justify-content:center; font-size:1rem; font-weight:900; flex-shrink:0; position:relative; overflow:hidden; }
        .member-online-dot { position:absolute; bottom:-1px; right:-1px; width:11px; height:11px; background:var(--online); border-radius:50%; border:2px solid var(--bg); }
        .member-info { flex:1; min-width:0; }
        .member-name { font-size:14px; font-weight:800; display:flex; align-items:center; gap:6px; flex-wrap:wrap; }
        .member-sub { font-size:12px; color:#444; }
        .member-role { font-size:9px; font-weight:900; padding:3px 8px; border-radius:8px; letter-spacing:1px; text-transform:uppercase; }
        .role-owner { background:rgba(255,215,0,0.15); color:var(--owner-color); }
        .role-admin { background:rgba(255,62,29,0.15); color:var(--accent); }
        .role-mod { background:rgba(167,139,250,0.15); color:var(--mod-color); }
        .member-more { width:30px; height:30px; border-radius:9px; background:rgba(255,255,255,0.04); display:flex; align-items:center; justify-content:center; font-size:1rem; cursor:pointer; transition:0.2s; flex-shrink:0; }
        .member-more:active { background:rgba(255,255,255,0.1); }

        /* ‚ïê‚ïê OVERLAYS ‚ïê‚ïê */
        .overlay { position:fixed; inset:0; background:rgba(0,0,0,0.75); backdrop-filter:blur(6px); z-index:2000; display:none; align-items:flex-end; justify-content:center; }
        .overlay.show { display:flex; }
        .overlay.center { align-items:center; justify-content:center; }
        .sheet { width:100%; max-width:500px; background:#141414; border-radius:28px 28px 0 0; padding:20px 20px 44px; border-top:1px solid rgba(255,255,255,0.07); transform:translateY(100%); transition:transform 0.35s cubic-bezier(0.34,1.1,0.64,1); max-height:85vh; overflow-y:auto; scrollbar-width:none; }
        .sheet::-webkit-scrollbar { display:none; }
        .overlay.show .sheet { transform:translateY(0); }
        .sheet-handle { width:40px; height:4px; background:rgba(255,255,255,0.1); border-radius:2px; margin:0 auto 20px; }
        .sheet-title { font-family:'Bebas Neue',cursive; font-size:1.4rem; letter-spacing:1.5px; margin-bottom:18px; padding-left:4px; }
        .sheet-option { display:flex; align-items:center; gap:14px; padding:14px 10px; border-radius:14px; cursor:pointer; transition:0.15s; font-size:14px; font-weight:700; }
        .sheet-option:active { background:rgba(255,255,255,0.05); transform:scale(0.97); }
        .sheet-option .opt-icon { font-size:1.2rem; width:28px; text-align:center; }
        .sheet-option.danger { color:var(--accent); }
        .sheet-option.mod-action { color:var(--mod-color); }
        .sheet-divider { height:1px; background:rgba(255,255,255,0.05); margin:4px 0; }

        .settings-row { display:flex; align-items:center; justify-content:space-between; padding:14px 10px; border-bottom:1px solid rgba(255,255,255,0.04); cursor:pointer; }
        .settings-left { display:flex; align-items:center; gap:12px; font-size:14px; font-weight:700; }
        .s-icon { font-size:1.1rem; width:26px; text-align:center; }
        .toggle { width:44px; height:24px; background:#2a2a2a; border-radius:12px; position:relative; transition:0.3s; cursor:pointer; flex-shrink:0; }
        .toggle.on { background:var(--accent); }
        .toggle::after { content:''; position:absolute; top:3px; left:3px; width:18px; height:18px; background:white; border-radius:50%; transition:0.3s; box-shadow:0 2px 4px rgba(0,0,0,0.3); }
        .toggle.on::after { left:23px; }

        /* Modal */
        .modal-box { width:calc(100% - 32px); max-width:420px; background:#141414; border-radius:24px; padding:24px 20px; border:1px solid rgba(255,255,255,0.07); transform:scale(0.88) translateY(16px); opacity:0; transition:0.3s cubic-bezier(0.34,1.1,0.64,1); }
        .overlay.show .modal-box { transform:scale(1) translateY(0); opacity:1; }
        .modal-title { font-family:'Bebas Neue',cursive; font-size:1.4rem; letter-spacing:2px; margin-bottom:16px; }
        .modal-input { width:100%; background:rgba(255,255,255,0.05); border:1px solid var(--border); border-radius:12px; padding:12px 14px; color:white; font-family:'Nunito',sans-serif; font-size:14px; outline:none; margin-bottom:12px; transition:border-color 0.2s; }
        .modal-input:focus { border-color:rgba(255,62,29,0.4); }
        .modal-input::placeholder { color:#444; }
        .modal-textarea { width:100%; background:rgba(255,255,255,0.05); border:1px solid var(--border); border-radius:12px; padding:12px 14px; color:white; font-family:'Nunito',sans-serif; font-size:14px; outline:none; resize:none; min-height:80px; margin-bottom:12px; transition:border-color 0.2s; }
        .modal-textarea:focus { border-color:rgba(255,62,29,0.4); }
        .modal-textarea::placeholder { color:#444; }
        .modal-actions { display:flex; gap:10px; margin-top:8px; }
        .btn-cancel { flex:1; padding:13px; border-radius:13px; background:rgba(255,255,255,0.05); border:1px solid var(--border); color:#777; font-family:'Nunito',sans-serif; font-size:14px; font-weight:700; cursor:pointer; transition:0.2s; }
        .btn-cancel:active { transform:scale(0.96); }
        .btn-confirm { flex:2; padding:13px; border-radius:13px; background:linear-gradient(135deg,var(--accent),var(--accent2)); border:none; color:white; font-family:'Nunito',sans-serif; font-size:14px; font-weight:800; cursor:pointer; transition:0.2s; box-shadow:0 4px 16px var(--glow); }
        .btn-confirm:active { transform:scale(0.96); }
        .btn-confirm.mod { background:linear-gradient(135deg,#7c3aed,var(--mod-color)); box-shadow:0 4px 16px rgba(167,139,250,0.3); }
        .btn-confirm.danger { background:linear-gradient(135deg,#cc1100,var(--accent)); }

        /* Role option cards */
        .role-option { display:flex; align-items:center; gap:14px; padding:14px 10px; border-radius:14px; cursor:pointer; transition:0.15s; border:1px solid transparent; margin-bottom:8px; background:rgba(255,255,255,0.02); }
        .role-option:active { transform:scale(0.97); }
        .role-option.selected { border-color:rgba(255,62,29,0.3); background:rgba(255,62,29,0.06); }
        .role-option.selected-mod { border-color:rgba(167,139,250,0.3); background:rgba(167,139,250,0.06); }
        .role-option-icon { font-size:1.4rem; width:38px; height:38px; border-radius:11px; display:flex; align-items:center; justify-content:center; flex-shrink:0; }
        .role-option-info { flex:1; }
        .role-option-name { font-size:14px; font-weight:800; margin-bottom:2px; }
        .role-option-desc { font-size:11px; color:#555; line-height:1.4; }

        /* Temp ban duration buttons */
        .ban-duration-row { display:flex; gap:8px; flex-wrap:wrap; margin-bottom:14px; }
        .ban-dur-btn { padding:8px 14px; border-radius:10px; background:rgba(255,255,255,0.05); border:1px solid var(--border); font-size:13px; font-weight:700; color:#777; cursor:pointer; transition:0.2s; font-family:'Nunito',sans-serif; }
        .ban-dur-btn:active { transform:scale(0.93); }
        .ban-dur-btn.selected { background:rgba(255,62,29,0.15); border-color:var(--accent); color:var(--accent); }

        /* Member options section labels */
        .member-opt-section { font-size:10px; font-weight:900; letter-spacing:2px; text-transform:uppercase; color:#444; padding:10px 10px 4px; }

        /* Profile popup */
        .profile-popup { width:calc(100% - 48px); max-width:320px; background:#141414; border-radius:24px; padding:24px 20px; border:1px solid rgba(255,255,255,0.07); transform:scale(0.88); opacity:0; transition:0.3s cubic-bezier(0.34,1.1,0.64,1); text-align:center; }
        .overlay.show .profile-popup { transform:scale(1); opacity:1; }
        .pp-av { width:72px; height:72px; border-radius:20px; margin:0 auto 12px; display:flex; align-items:center; justify-content:center; font-size:2rem; overflow:hidden; }
        .pp-av img { width:100%; height:100%; object-fit:cover; }
        .pp-name { font-family:'Bebas Neue',cursive; font-size:1.4rem; letter-spacing:1.5px; margin-bottom:4px; }
        .pp-role { display:inline-flex; font-size:10px; font-weight:900; padding:3px 10px; border-radius:8px; letter-spacing:1px; margin-bottom:8px; }
        .pp-meta { font-size:12px; color:#555; margin-bottom:14px; }
        .pp-actions { display:flex; gap:8px; }
        .pp-btn { flex:1; padding:11px; border-radius:12px; font-family:'Nunito',sans-serif; font-size:13px; font-weight:800; cursor:pointer; transition:0.2s; }
        .pp-btn:active { transform:scale(0.95); }
        .pp-follow { background:linear-gradient(135deg,var(--accent),var(--accent2)); border:none; color:white; box-shadow:0 4px 14px var(--glow); }
        .pp-view { background:rgba(255,255,255,0.05); border:1px solid var(--border); color:#bbb; }

        /* ‚ïê‚ïê TOAST ‚ïê‚ïê */
        .toast { position:fixed; bottom:100px; left:50%; transform:translateX(-50%) translateY(20px); background:#1e1e1e; border:1px solid rgba(255,255,255,0.1); color:white; padding:11px 20px; border-radius:14px; font-size:13px; font-weight:700; z-index:9999; opacity:0; transition:0.3s; white-space:nowrap; pointer-events:none; box-shadow:0 8px 28px rgba(0,0,0,0.5); }
        .toast.show { opacity:1; transform:translateX(-50%) translateY(0); }
    </style>
</head>
<body>

<!-- ‚ïê‚ïê HEADER ‚ïê‚ïê -->
<div class="chat-header">
    <div class="back-btn" onclick="goBack()">‚Üê</div>
    <div class="group-av official" id="groupAv" style="background:#1a1030;">üí¨</div>
    <div class="header-meta">
        <div class="header-name" id="groupName">
            Group Chat
            <span class="header-verified" id="officialBadge" style="display:none;">‚ú¶</span>
            <span class="official-badge" id="officialLabel" style="display:none;">OFFICIAL</span>
        </div>
        <div class="header-sub">
            <span id="memberCount">0</span> members ¬∑ <span class="online-count" id="onlineCount">94</span> online
        </div>
    </div>
    <div class="header-actions">
        <div class="h-btn" onclick="openSettings()">‚ãØ</div>
    </div>
</div>

<!-- ‚ïê‚ïê TABS ‚ïê‚ïê -->
<div class="tabs">
    <div class="tab active" id="tab-chat" onclick="switchTab('chat')">üí¨ Chat</div>
    <div class="tab" id="tab-posts" onclick="switchTab('posts')">üì¢ Posts</div>
    <div class="tab" id="tab-members" onclick="switchTab('members')">üë• Members</div>
</div>

<!-- ‚ïê‚ïê CHAT TAB ‚ïê‚ïê -->
<div class="tab-content active" id="content-chat">
    <div class="pinned-banner" onclick="scrollToPinned()">
        <span style="font-size:0.9rem;opacity:0.6;">üìå</span>
        <div class="pin-text"><strong>Pinned:</strong> <span id="pinnedText">rooftop hangout this weekend? üëÄ</span></div>
        <span style="font-size:0.8rem;opacity:0.4;">‚Ä∫</span>
    </div>
    <div class="read-mode-banner" id="readModeBanner">üì¢ Announcement mode ‚Äî only admins can send messages</div>

    <div class="messages-area" id="messagesArea"></div>

    <div class="typing-area">
        <div class="typing-indicator" id="typingIndicator">
            <span class="tdot"></span><span class="tdot"></span><span class="tdot"></span>
            <span id="typingText" style="margin-left:4px;">Kai is typing</span>
        </div>
    </div>

    <div class="input-area" id="inputArea">
        <div class="reply-bar" id="replyBar">
            <div class="reply-bar-text"><strong id="replyName">Kai</strong><span id="replyText">message</span></div>
            <span class="reply-bar-close" onclick="closeReply()">‚úï</span>
        </div>
        <div class="input-row">
            <div class="input-side-btn" onclick="openAttach()">üìé</div>
            <div class="input-wrap">
                <textarea class="msg-input" id="msgInput" placeholder="Message..." rows="1" oninput="onInput(this)"></textarea>
                <div class="emoji-btn" onclick="toggleSticker()">üòÄ</div>
            </div>
            <div class="send-btn" id="sendBtn" onclick="sendMsg()" style="display:none;">
                <svg width="16" height="16" fill="none" stroke="white" stroke-width="2.5" viewBox="0 0 24 24"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>
            </div>
            <div class="voice-btn" id="voiceBtn" ontouchstart="startRecording()" ontouchend="stopRecording()" onmousedown="startRecording()" onmouseup="stopRecording()">üé§</div>
        </div>
    </div>
</div>

<!-- ‚ïê‚ïê POSTS TAB ‚ïê‚ïê -->
<div class="tab-content" id="content-posts">
    <div class="posts-area" id="postsArea">
        <div class="create-post-btn" onclick="openCreatePost()">
            <div class="create-post-av">‚ú®</div>
            <span class="create-post-ph">Share something with the group...</span>
        </div>
        <div class="post-type-row">
            <div class="post-type-btn" onclick="openCreatePost('post')">‚úçÔ∏è Post</div>
            <div class="post-type-btn" onclick="openCreatePost('poll')">üìä Poll</div>
            <div class="post-type-btn" onclick="openCreatePost('event')">üìÖ Event</div>
            <div class="post-type-btn" onclick="openCreatePost('announce')">üì¢ Announce</div>
        </div>
        <!-- Posts loaded from Firebase by JS -->
    </div>
</div>

<!-- ‚ïê‚ïê MEMBERS TAB ‚ïê‚ïê -->
<div class="tab-content" id="content-members">
    <div class="members-area">
        <div class="members-search">
            <span style="opacity:0.3;">üîç</span>
            <input type="text" placeholder="Search members..." oninput="filterMembers(this.value)">
        </div>
        <!-- Sections populated by JS from Firebase -->
        <div id="membersList"></div>
    </div>
</div>

<!-- ‚ïê‚ïê STICKER TRAY ‚ïê‚ïê -->
<div class="tray-backdrop" id="trayBackdrop" onclick="closeStickerTray()"></div>
<div class="sticker-tray" id="stickerTray">
    <div class="tray-tabs">
        <div class="tray-tab active" id="tt-emoji" onclick="switchTray('emoji')">üòÄ Emoji</div>
        <div class="tray-tab" id="tt-stickers" onclick="switchTray('stickers')">üé≠ Stickers</div>
        <div class="tray-tab" id="tt-gif" onclick="switchTray('gif')">üé¨ GIF</div>
        <div class="tray-tab" id="tt-mine" onclick="switchTray('mine')">üñºÔ∏è Mine</div>
    </div>
    <div class="tray-search" id="traySearch">
        <span style="opacity:0.4;font-size:0.9rem;">üîç</span>
        <input type="text" placeholder="Search GIFs..." id="gifSearch" oninput="searchGif(this.value)">
    </div>
    <div class="tray-body" id="trayBody"></div>
</div>

<!-- ‚ïê‚ïê MESSAGE MENU ‚ïê‚ïê -->
<div class="overlay" id="msgMenuOverlay" onclick="closeMsgMenu()">
    <div class="sheet" onclick="event.stopPropagation()">
        <div class="sheet-handle"></div>
        <div class="sheet-title">Message</div>
        <div class="sheet-option" onclick="doMsgAction('react')"><span class="opt-icon">‚ù§Ô∏è</span>React</div>
        <div class="sheet-option" onclick="doMsgAction('reply')"><span class="opt-icon">‚Ü©Ô∏è</span>Reply</div>
        <div class="sheet-option" onclick="doMsgAction('copy')"><span class="opt-icon">üìã</span>Copy</div>
        <div class="sheet-option" onclick="doMsgAction('pin')"><span class="opt-icon">üìå</span>Pin Message</div>
        <div class="sheet-divider"></div>
        <div class="sheet-option danger" id="msgDeleteOpt" onclick="doMsgAction('delete')"><span class="opt-icon">üóëÔ∏è</span>Delete</div>
        <div class="sheet-option danger" id="msgKickOpt" style="display:none;" onclick="doMsgAction('kick')"><span class="opt-icon">üö´</span>Remove User</div>
    </div>
</div>

<!-- ‚ïê‚ïê GROUP SETTINGS ‚ïê‚ïê -->
<div class="overlay" id="settingsOverlay" onclick="closeSettings()">
    <div class="sheet" onclick="event.stopPropagation()">
        <div class="sheet-handle"></div>
        <div class="sheet-title">Group Settings</div>

        <div class="sheet-option" onclick="editGroupInfo()"><span class="opt-icon">‚úèÔ∏è</span>Edit Group Info</div>
        <div class="sheet-option" onclick="changeGroupAvatar()"><span class="opt-icon">üñºÔ∏è</span>Change Avatar</div>

        <div class="sheet-divider"></div>

        <div class="settings-row" onclick="toggleReadMode()">
            <div class="settings-left"><span class="s-icon">üì¢</span>Announcement Mode</div>
            <div class="toggle" id="readModeToggle"></div>
        </div>
        <div class="settings-row" onclick="togglePrivate()">
            <div class="settings-left"><span class="s-icon">üîí</span>Private Group</div>
            <div class="toggle" id="privateToggle"></div>
        </div>
        <div class="settings-row" onclick="toggleNotif()">
            <div class="settings-left"><span class="s-icon">üîî</span>Notifications</div>
            <div class="toggle on" id="notifToggle"></div>
        </div>

        <div class="sheet-divider"></div>

        <div class="sheet-option" onclick="showToast('üîó Invite link copied!');closeSettings()"><span class="opt-icon">üîó</span>Copy Invite Link</div>
        <div class="sheet-option" onclick="switchTab('members');closeSettings()"><span class="opt-icon">üë•</span>Manage Members</div>
        <div class="sheet-option" onclick="clearChat()"><span class="opt-icon">üóëÔ∏è</span>Clear Chat</div>
    </div>
</div>

<!-- ‚ïê‚ïê EDIT GROUP MODAL ‚ïê‚ïê -->
<div class="overlay center" id="editGroupOverlay" onclick="closeEditGroup(event)">
    <div class="modal-box" onclick="event.stopPropagation()">
        <div class="modal-title">Edit Group</div>
        <input class="modal-input" id="editGroupName" type="text" placeholder="Group name" value="">
        <textarea class="modal-textarea" id="editGroupDesc" placeholder="Group description..."></textarea>
        <div class="modal-actions">
            <button class="btn-cancel" onclick="closeEditGroup()">Cancel</button>
            <button class="btn-confirm" onclick="saveGroupEdit()">Save ‚úì</button>
        </div>
    </div>
</div>

<!-- ‚ïê‚ïê ASSIGN / REMOVE ROLE MODAL ‚ïê‚ïê -->
<div class="overlay center" id="assignRoleOverlay" onclick="closeAssignRole(event)">
    <div class="modal-box" onclick="event.stopPropagation()">
        <div class="modal-title">Assign Role</div>
        <input class="modal-input" id="roleTargetName" type="text" placeholder="Enter member name...">
        <div style="margin-bottom:4px;">
            <div class="role-option selected-mod" id="roleOpt-mod" onclick="selectRoleOpt('mod')">
                <div class="role-option-icon" style="background:rgba(167,139,250,0.1);">üõ°Ô∏è</div>
                <div class="role-option-info">
                    <div class="role-option-name" style="color:var(--mod-color);">Moderator</div>
                    <div class="role-option-desc">App-wide powers ¬∑ Can disband any group ¬∑ Temp ban users ¬∑ Override group admins</div>
                </div>
            </div>
            <div class="role-option" id="roleOpt-member" onclick="selectRoleOpt('member')">
                <div class="role-option-icon" style="background:rgba(255,255,255,0.04);">üë§</div>
                <div class="role-option-info">
                    <div class="role-option-name">Remove Role</div>
                    <div class="role-option-desc">Demote back to regular member</div>
                </div>
            </div>
        </div>
        <div class="modal-actions">
            <button class="btn-cancel" onclick="closeAssignRole()">Cancel</button>
            <button class="btn-confirm mod" onclick="confirmAssignRole()">Assign ‚úì</button>
        </div>
    </div>
</div>

<!-- ‚ïê‚ïê MAKE / REMOVE ADMIN MODAL ‚ïê‚ïê -->
<div class="overlay center" id="promoteAdminOverlay" onclick="closePromoteAdmin(event)">
    <div class="modal-box" onclick="event.stopPropagation()">
        <div class="modal-title">Make / Remove Admin</div>
        <input class="modal-input" id="adminTargetName" type="text" placeholder="Enter member name...">
        <div style="margin-bottom:4px;">
            <div class="role-option selected" id="adminOpt-promote" onclick="selectAdminOpt('promote')">
                <div class="role-option-icon" style="background:rgba(255,62,29,0.1);">‚öôÔ∏è</div>
                <div class="role-option-info">
                    <div class="role-option-name" style="color:var(--accent);">Make Admin</div>
                    <div class="role-option-desc">Full group management ¬∑ Edit info ¬∑ Manage all members</div>
                </div>
            </div>
            <div class="role-option" id="adminOpt-demote" onclick="selectAdminOpt('demote')">
                <div class="role-option-icon" style="background:rgba(255,255,255,0.04);">‚¨áÔ∏è</div>
                <div class="role-option-info">
                    <div class="role-option-name">Remove Admin</div>
                    <div class="role-option-desc">Demote to regular member ¬∑ Cannot remove Owner</div>
                </div>
            </div>
        </div>
        <div class="modal-actions">
            <button class="btn-cancel" onclick="closePromoteAdmin()">Cancel</button>
            <button class="btn-confirm" onclick="confirmAdminAction()">Confirm ‚úì</button>
        </div>
    </div>
</div>

<!-- ‚ïê‚ïê CREATE POST MODAL ‚ïê‚ïê -->
<div class="overlay center" id="createPostOverlay" onclick="closeCreatePost(event)">
    <div class="modal-box" onclick="event.stopPropagation()">
        <div class="modal-title" id="createPostTitle">Create Post</div>
        <textarea class="modal-textarea" id="postContent" placeholder="What's on your mind?..." style="min-height:100px;"></textarea>
        <div id="pollOptions" style="display:none;">
            <input class="modal-input" placeholder="Option 1" id="pollOpt1">
            <input class="modal-input" placeholder="Option 2" id="pollOpt2">
            <input class="modal-input" placeholder="Option 3 (optional)" id="pollOpt3">
        </div>
        <div id="eventFields" style="display:none;">
            <input class="modal-input" placeholder="Event title" id="eventTitle">
            <input class="modal-input" placeholder="Location üìç" id="eventLoc">
            <input class="modal-input" placeholder="Date and Time üìÖ" id="eventDate">
        </div>
        <div class="modal-actions">
            <button class="btn-cancel" onclick="closeCreatePost()">Cancel</button>
            <button class="btn-confirm" onclick="submitPost()">Post üöÄ</button>
        </div>
    </div>
</div>

<!-- ‚ïê‚ïê REACT PICKER ‚ïê‚ïê -->
<div class="overlay center" id="reactOverlay" onclick="closeReactPicker()">
    <div style="background:#1a1a1a;border-radius:24px;padding:16px 20px;border:1px solid rgba(255,255,255,0.08);transform:scale(0.88);opacity:0;transition:0.25s cubic-bezier(0.34,1.1,0.64,1);" id="reactBox" onclick="event.stopPropagation()">
        <div style="display:flex;gap:12px;font-size:2rem;">
            <span onclick="pickReact('‚ù§Ô∏è')" style="cursor:pointer;">‚ù§Ô∏è</span>
            <span onclick="pickReact('üî•')" style="cursor:pointer;">üî•</span>
            <span onclick="pickReact('üòÇ')" style="cursor:pointer;">üòÇ</span>
            <span onclick="pickReact('üòÆ')" style="cursor:pointer;">üòÆ</span>
            <span onclick="pickReact('üò¢')" style="cursor:pointer;">üò¢</span>
            <span onclick="pickReact('üëè')" style="cursor:pointer;">üëè</span>
        </div>
    </div>
</div>

<!-- ‚ïê‚ïê MEMBER OPTIONS SHEET ‚ïê‚ïê -->
<div class="overlay" id="memberOptOverlay" onclick="closeMemberOpts()">
    <div class="sheet" onclick="event.stopPropagation()">
        <div class="sheet-handle"></div>
        <div class="sheet-title" id="memberOptName">Member</div>

        <div class="member-opt-section">Profile</div>
        <div class="sheet-option" onclick="memberAction('profile')"><span class="opt-icon">üë§</span>View Profile</div>

        <div id="adminActionsSection">
            <div class="member-opt-section">Admin Actions</div>
            <div class="sheet-option" id="optMakeAdmin" onclick="memberAction('makeAdmin')"><span class="opt-icon">‚öôÔ∏è</span>Make Admin</div>
            <div class="sheet-option" id="optRemoveAdmin" style="display:none;" onclick="memberAction('removeAdmin')"><span class="opt-icon">‚¨áÔ∏è</span>Remove Admin</div>
            <div class="sheet-option" id="optAssignMod" onclick="memberAction('assignMod')"><span class="opt-icon">üõ°Ô∏è</span>Make Moderator</div>
            <div class="sheet-option" id="optRemoveMod" style="display:none;" onclick="memberAction('removeMod')"><span class="opt-icon">‚¨áÔ∏è</span>Remove Moderator</div>
            <div class="sheet-option" onclick="memberAction('mute')"><span class="opt-icon">üîá</span>Mute Member</div>
        </div>

        <div id="modActionsSection">
            <div class="member-opt-section">Moderation</div>
            <div class="sheet-option mod-action" onclick="memberAction('warn')"><span class="opt-icon">‚ö†Ô∏è</span>Send Warning</div>
            <div class="sheet-option mod-action" onclick="openTempBan()"><span class="opt-icon">‚è±Ô∏è</span>Temp Ban</div>
        </div>

        <div class="sheet-divider"></div>
        <div class="sheet-option danger" onclick="memberAction('kick')"><span class="opt-icon">üö´</span>Remove from Group</div>
    </div>
</div>

<!-- ‚ïê‚ïê TEMP BAN MODAL ‚ïê‚ïê -->
<div class="overlay center" id="tempBanOverlay" onclick="closeTempBan(event)">
    <div class="modal-box" onclick="event.stopPropagation()">
        <div class="modal-title">Temp Ban</div>
        <p style="font-size:13px;color:#555;margin-bottom:14px;">Select ban duration for <strong id="banTargetName" style="color:white;">this user</strong></p>
        <div class="ban-duration-row">
            <div class="ban-dur-btn selected" onclick="selectBanDur(this,'1h')">1 Hour</div>
            <div class="ban-dur-btn" onclick="selectBanDur(this,'6h')">6 Hours</div>
            <div class="ban-dur-btn" onclick="selectBanDur(this,'1d')">1 Day</div>
            <div class="ban-dur-btn" onclick="selectBanDur(this,'3d')">3 Days</div>
            <div class="ban-dur-btn" onclick="selectBanDur(this,'7d')">7 Days</div>
        </div>
        <textarea class="modal-textarea" id="banReason" placeholder="Reason for ban (optional)..." style="min-height:60px;"></textarea>
        <div class="modal-actions">
            <button class="btn-cancel" onclick="closeTempBan()">Cancel</button>
            <button class="btn-confirm danger" onclick="confirmTempBan()">Ban User üö´</button>
        </div>
    </div>
</div>

<!-- ‚ïê‚ïê USER PROFILE POPUP ‚ïê‚ïê -->
<div class="overlay center" id="profilePopupOverlay" onclick="closeProfilePopup()">
    <div class="profile-popup" onclick="event.stopPropagation()">
        <div class="pp-av" id="ppAv">K</div>
        <div class="pp-name" id="ppName">Kai</div>
        <div id="ppRoleBadge"></div>
        <div class="pp-meta" id="ppMeta">26 ¬∑ Aizawl</div>
        <div class="pp-actions">
            <button class="pp-btn pp-follow" onclick="followUser()">+ Follow</button>
            <button class="pp-btn pp-view" onclick="viewProfile()">View Profile</button>
        </div>
    </div>
</div>

<!-- ‚ïê‚ïê ATTACH SHEET ‚ïê‚ïê -->
<div class="overlay" id="attachOverlay" onclick="closeAttach()">
    <div class="sheet" onclick="event.stopPropagation()">
        <div class="sheet-handle"></div>
        <div class="sheet-title">Attach</div>
        <div class="sheet-option" onclick="attachAction('image')"><span class="opt-icon">üñºÔ∏è</span>Photo from Gallery</div>
        <div class="sheet-option" onclick="attachAction('camera')"><span class="opt-icon">üì∑</span>Take Photo</div>
        <div class="sheet-option" onclick="attachAction('video')"><span class="opt-icon">üé¨</span>Video</div>
        <div class="sheet-option" onclick="attachAction('sticker')"><span class="opt-icon">üé≠</span>Sticker</div>
    </div>
</div>

<!-- ‚ïê‚ïê MEDIA PREVIEW SHEET ‚ïê‚ïê -->
<div class="overlay center" id="mediaPreviewOverlay" onclick="closeMediaPreview()">
    <div class="media-preview-box" onclick="event.stopPropagation()">
        <img id="mediaPreviewImg" src="" alt="preview" style="display:none;">
        <video id="mediaPreviewVid" src="" controls playsinline style="display:none;"></video>
        <textarea class="caption-input" id="mediaCaptionInput" placeholder="Add a caption..." rows="2"></textarea>
        <div class="once-row" onclick="document.getElementById('onceToggle').click()">
            <input type="checkbox" id="onceToggle" onclick="event.stopPropagation()">
            <label id="onceLabel" for="onceToggle">üëÅÔ∏è One-time view ‚Äî disappears after seen</label>
        </div>
        <div class="modal-actions" style="margin-top:4px;">
            <button class="btn-cancel" onclick="closeMediaPreview()">Cancel</button>
            <button class="btn-confirm" onclick="sendMediaWithCaption()">Send ‚û§</button>
        </div>
    </div>
</div>

<div class="toast" id="toast"></div>

<script type="module" src="group-chat.js"></script>
</body>
</html>
